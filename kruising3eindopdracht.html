<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>kruising3</title>
</head>

<body background="./afbeeldingen/kruising.png">
<form>
    <h1>kruising.html</h1>
    <p>een autootje automatisch laten rijden</p>
    <p>druk op de juiste knop(een keer)</p>
    <input type="button" value="start" onclick="starten()">
    <input type="button" value="stop" onclick="stop()">
    <input type="button" value="opnieuw" onclick="opnieuw()">
    <img id="auto" src="./afbeeldingen/autogroen.png" width="40px" height="80px">
    <img id="auto2" src="./afbeeldingen/autorood3.png" width="40px" height="80px">
    <img id="auto3" src="./afbeeldingen/brandweer.png" width="80px" height="60px">
    <img id="auto4" src="./afbeeldingen/autoblauw.png" width="80px" height="40px">
    <input type="button" value="aanzetten" onclick="aanzetten()">
    <input type="button" value="knipperen" onclick="knipperen()">
    <input type="button" value="uitzetten" onclick="uitzetten()">
    <img id="stoplicht" src="./afbeeldingen/stoplichtuit.png" width="20px" height="40px">
    <img id="stoplicht2" src="./afbeeldingen/stoplichtuit2.png" width="20px" height="40px">
    <img id="stoplicht3" src="./afbeeldingen/stoplichtuit3.png" width="40px" height="20px">
    <img id="stoplicht4" src="./afbeeldingen/stoplichtuit4.png" width="40px" height="20px">
</form>

<script>
    var rijden;
    var snelheid = 5;
    var snelheid2 = 5;
    var snelheid3 = 5;
    var snelheid4 = 5;
    var slir_lr= false;
    var slir_bb= false;
    var auto= document.getElementById('auto');
    auto.style.position='absolute';
    auto.style.left= '650px';
    auto.style.top= '800px';
    var auto2= document.getElementById('auto2');
    auto2.style.position='absolute';
    auto2.style.left= '550px';
    auto2.style.top= '-50px';
    var auto3 = document.getElementById('auto3');
    auto3.style.position='absolute';
    auto3.style.left= '0px';
    auto3.style.top= '440px';
    var auto4 = document.getElementById('auto4');
    auto4.style.position='absolute';
    auto4.style.left= '1250px';
    auto4.style.top= '375px';

    function starten() {
        auto.style.top = parseInt(auto.style.top)- snelheid +'px';
        auto2.style.top = parseInt(auto2.style.top) +snelheid2 +'px';
        auto3.style.left = parseInt(auto3.style.left) +snelheid3 +'px';
        auto4.style.left = parseInt(auto4.style.left) -snelheid4 +'px';
        rijden=setTimeout(starten,10);
        var y_auto = parseInt(auto.style.top);
        var y_auto2 = parseInt(auto2.style.top);
        var y_auto3 = parseInt(auto3.style.left);
        var y_auto4 = parseInt(auto4.style.left);

        if(auto.style.top == "-90px")
        {
            auto.style.top = '800px';
        }

        if(auto2.style.top == "900px")
        {
           auto2.style.top = "-80px";
        }

        if (auto3.style.left == "1400px")
        {
            auto3.style.left = "-50px"
        }
        if (auto4.style.left == "-50px")
        {
            auto4.style.left = "1400px"
        }



        if (slir_lr && y_auto == 550)
        {snelheid = 0}
        else
        {snelheid = 5}

        if (slir_lr && y_auto2 == 230)
        {snelheid2 = 0}
        else
        {snelheid2 = 5}

        if (slir_bb && y_auto3 == 400)
        {snelheid3 = 0}
        else
        {snelheid3 = 5}

        if (slir_bb && y_auto4 == 750)
        {snelheid4 = 0}
        else
        {snelheid4 = 5}



    }
    function stop() {
        clearTimeout(rijden);
    }
    function opnieuw() {
        clearTimeout(rijden);
        auto.style.top='800px';
        auto2.style.top='-50px';
        auto3.style.left='-40px';
        auto4.style.left='1300px';

    }

    var werken1;
    var werken2;
    var werken3;
    var werken4;
    var werken5;
    var werken6;
    var buitenwerking;
    var stoplicht= document.getElementById('stoplicht');
    stoplicht.style.position= 'absolute';
    stoplicht.style.left='715px';
    stoplicht.style.top='510px';
    var stoplicht2= document.getElementById('stoplicht2');
    stoplicht2.style.position= 'absolute';
    stoplicht2.style.left='515px';
    stoplicht2.style.top='315px';
    var stoplicht3 = document.getElementById('stoplicht3');
    stoplicht3.style.position= 'absolute';
    stoplicht3.style.left='494px';
    stoplicht3.style.top='510px';
    var stoplicht4 = document.getElementById('stoplicht4');
    stoplicht4.style.position= 'absolute';
    stoplicht4.style.left='715px';
    stoplicht4.style.top='340px';

    function aanzetten() {
        clearTimeout(buitenwerking);
        maakRoodGroen();
        werken1 = setTimeout(maakRoodGeel,4000);
        werken2 = setTimeout(maakRoodRood,6000);
        werken3= setTimeout(maakGroenRood,8000);
        werken4 = setTimeout(maakGeelRood,12000);
        werken5 = setTimeout(maakRoodRood,15000);
        werken6 = setTimeout(aanzetten,17000);

    }

    function knipperen() {
        clearTimeout(werken1);
        clearTimeout(werken2);
        clearTimeout(werken3);
        clearTimeout(werken4);
        clearTimeout(werken5);
        clearTimeout(werken6);
        maakGeelGeel();
        buitenwerking = setTimeout(uit, 500);
        buitenwerking = setTimeout(knipperen, 1000)
    }

    function uitzetten() {
        uit();
        clearTimeout(buitenwerking);
        clearTimeout(werken1);
        clearTimeout(werken2);
        clearTimeout(werken3);
        clearTimeout(werken4);
        clearTimeout(werken5);
        clearTimeout(werken6);
    }
    function maakRoodGroen()
    {
        stoplicht.src="./afbeeldingen/stoplichtrood.png";
        stoplicht2.src="./afbeeldingen/stoplichtrood2.png";
        stoplicht3.src="./afbeeldingen/stoplichtgroen3.png";
        stoplicht4.src="./afbeeldingen/stoplichtgroen4.png";
        slir_lr = true;
        slir_bb = false;
    }

    function maakRoodGeel() {
      stoplicht.src="./afbeeldingen/stoplichtrood.png";
      stoplicht2.src="./afbeeldingen/stoplichtrood2.png";
       stoplicht3.src="./afbeeldingen/stoplichtgeel3.png";
        stoplicht4.src="./afbeeldingen/stoplichtgeel4.png";
       slir_lr = true;
        slir_bb = false;
    }
    function maakGeelGeel() {
        stoplicht.src="./afbeeldingen/stoplichtgeel.png";
        stoplicht2.src="./afbeeldingen/stoplichtgeel2.png";
        stoplicht3.src="./afbeeldingen/stoplichtgeel3.png";
        stoplicht4.src="./afbeeldingen/stoplichtgeel4.png";
        slir_lr= false;
        slir_bb= false;
    }
    function maakRoodRood() {
        stoplicht.src="./afbeeldingen/stoplichtrood.png";
        stoplicht2.src="./afbeeldingen/stoplichtrood2.png";
        stoplicht3.src="./afbeeldingen/stoplichtrood3.png";
        stoplicht4.src="./afbeeldingen/stoplichtrood4.png";
        slir_lr = true;
        slir_bb = true;
    }
    function maakGroenRood() {
        stoplicht.src="./afbeeldingen/stoplichtgroen.png";
        stoplicht2.src="./afbeeldingen/stoplichtgroen2.png";
        stoplicht3.src="./afbeeldingen/stoplichtrood3.png";
        stoplicht4.src="./afbeeldingen/stoplichtrood4.png";
        slir_lr = false;
        slir_bb = true;
    }
    function maakGeelRood() {
        stoplicht.src="./afbeeldingen/stoplichtgeel.png";
        stoplicht2.src="./afbeeldingen/stoplichtgeel2.png";
        stoplicht3.src="./afbeeldingen/stoplichtRood3.png";
        stoplicht4.src="./afbeeldingen/stoplichtRood4.png";
        slir_lr = false;
        slir_bb = true;
    }
    function uit() {
        stoplicht.src="./afbeeldingen/stoplichtuit.png";
        stoplicht2.src="./afbeeldingen/stoplichtuit2.png";
        stoplicht3.src="./afbeeldingen/stoplichtuit3.png";
        stoplicht4.src="./afbeeldingen/stoplichtuit4.png";
    }

</script>

</body>

</html>
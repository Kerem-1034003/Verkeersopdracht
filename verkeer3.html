<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>verkeer3</title>
</head>

<body background="./afbeeldingen/kruising.png">
<form>
    <h1>verkeer.html</h1>
    <p>een autootje automatisch laten rijden</p>
    <p>druk op de juiste knop(een keer)</p>
    <input type="button" value="start" onclick="starten()">
    <input type="button" value="stop" onclick="stop()">
    <input type="button" value="opnieuw" onclick="opnieuw()">
    <img id="auto" src="./afbeeldingen/autogroen.png" width="40px" height="80px">
    <input type="button" value="aanzetten" onclick="aanzetten()">
    <input type="button" value="knipperen" onclick="knipperen()">
    <input type="button" value="uitzetten" onclick="uitzetten()">
    <img id="stoplicht" src="./afbeeldingen/stoplichtuit.png" width="20px" height="40px">
</form>

<script>
    var rijden;
    var snelheid = 5;
    var slir_lr= false;
    var auto =document.getElementById('auto');
    auto.style.position='absolute';
    auto.style.left= '650px';
    auto.style.top= '800px';


    function starten() {
        auto.style.top = parseInt(auto.style.top)- snelheid +'px';
        rijden=setTimeout(starten,10);
        var y_auto = parseInt(auto.style.top);

        if(auto.style.top <= "-50px")
        {
            auto.style.top = '800px';
        }

        if (slir_lr && y_auto == 550)
        {snelheid = 0}
        else
        {snelheid = 5}

    }
    function stop() {
        clearTimeout(rijden);
    }
    function opnieuw() {
        clearTimeout(rijden);
        auto.style.top='800px';


    }

    var werken;
    var buitenwerking;
    var stoplicht= document.getElementById('stoplicht');
    stoplicht.style.position= 'absolute';
    stoplicht.style.left='715px';
    stoplicht.style.top='510px';

    function aanzetten() {
        clearTimeout(buitenwerking);
        maakRood();
        werken= setTimeout(maakGroen,4000);
        werken= setTimeout(maakGeel,8000);
        werken= setTimeout(aanzetten,10000)
    }

    function knipperen() {
        clearTimeout(werken);
        maakGeel();
        buitenwerking = setTimeout(uit, 500);
        buitenwerking = setTimeout(knipperen, 1000)
    }

    function uitzetten() {
        uit();
        clearTimeout(buitenwerking);
        clearTimeout(werken)
    }

    function maakRood() {
        stoplicht.src="./afbeeldingen/stoplichtrood.png";
        slir_lr = true;
    }
    function maakGroen() {
        stoplicht.src="./afbeeldingen/stoplichtgroen.png";
        slir_lr = false;
    }
    function maakGeel() {
        stoplicht.src="./afbeeldingen/stoplichtgeel.png";
        slir_lr = false;
    }
    function uit() {
        stoplicht.src="./afbeeldingen/stoplichtuit.png";
    }

</script>

</body>

</html>